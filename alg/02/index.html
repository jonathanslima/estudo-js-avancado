<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Palindrome</title>
</head>
<body>
  <h1>02. Palindrome</h1>
  <p>Ver console</p>

  <script>
    function retira_acentos(str){
      let com_acento = 'ÀÁÂÃÄÅÆÇÈÉÊËÌÍÎÏÐÑÒÓÔÕÖØÙÚÛÜÝŔÞßàáâãäåæçèéêëìíîïðñòóôõöøùúûüýþÿŕ';
      let sem_acento = 'AAAAAAACEEEEIIIIDNOOOOOOUUUUYRsBaaaaaaaceeeeiiiionoooooouuuuybyr';
      let novastr='';

      for(i=0; i<str.length; i++) {
          let troca = false;
          for (a = 0; a < com_acento.length; a++) {
            if (str.substr(i,1) == com_acento.substr(a,1)) {
                novastr+=sem_acento.substr(a,1);
                troca = true;
                break;
            }
          }
          if (troca == false) {
              novastr += str.substr(i,1);
          }
      }
      return novastr;
    }

    function retira_caracteres (str){
      let regex = /[' ', -, ., ',']/gi;
      return str.replace(regex, '');
    }

    let isPalindrome = (textReceived)=> {
      let textComplete = retira_acentos(String(textReceived).toLowerCase());
      let textReversed = retira_acentos(String(textReceived).split('').reverse().join('').toLowerCase());

      if(retira_caracteres(textComplete) === retira_caracteres(textReversed)){
        return console.log(`${textReversed} é palíndromo de ${textComplete} `);
      }

      console.log(`${textReversed} não é palíndromo de ${textComplete} `);
    }

    isPalindrome('Socorram me subi no onibus em Marrocos')
    isPalindrome('A grama é amarga')
    isPalindrome('Rir, o breve verbo rir')
    isPalindrome('Anotaram a data da maratona')
    isPalindrome('A torre da derrota')
    isPalindrome('Roda esse corpo, processe a dor')
    isPalindrome('O duplo pó do trote torpe de potro meu que morto pede protetor todo polpudo.')
  </script>
</body>
</html>